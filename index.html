{% extends 'base.html' %}
{% load static %}

{% block main %}
<style>
    /* Smooth transition for internal links */
    html { scroll-behavior: smooth; }

    /* Owl Carousel Overrides & Fixes */
    .owl-carousel-wrapper {
        position: relative;
        overflow: hidden;
        margin-top: -1px;
    }
    
    /* The "Floating" CTA Box */
    .box-92819 {
        position: absolute;
        top: 50%;
        left: 10%;
        transform: translateY(-50%);
        z-index: 100;
        background: rgba(0, 0, 0, 0.65); 
        backdrop-filter: blur(10px);
        padding: 40px;
        max-width: 450px;
        border-left: 5px solid #ffc107;
        border-radius: 0 15px 15px 0;
    }

    .ftco-cover-1 {
        height: 85vh;
        min-height: 550px;
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;
        position: relative;
    }

    /* Text readability fix */
    .text-cursive { 
        font-family: 'Mansalva', cursive; 
        color: #222;
    }
    .text-shadow-custom {
        text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
    }

    /* Removing default overlays to show clear images */
    .overlay:before { 
        content: "";
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0,0,0,0.3); /* Slight darkening for text contrast */
        z-index: 1;
    }

    /* Mission/Vision Cards */
    .feature-29192 {
        padding: 40px;
        background-size: cover;
        background-position: center;
        color: #fff;
        position: relative;
        min-height: 350px;
        display: flex;
        align-items: flex-end;
        transition: 0.4s all ease;
        text-decoration: none !important;
        overflow: hidden;
    }
    
    .feature-29192:hover { transform: translateY(-5px); z-index: 5; color: #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }

    /* Hover Lift Effect for Action Cards */
    .hover-lift {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: none !important;
        border-radius: 15px;
        overflow: hidden;
    }
    .hover-lift:hover {
        transform: translateY(-10px);
        box-shadow: 0 1rem 3rem rgba(0,0,0,0.15) !important;
    }

    /* Gallery Zoom Effect */
    .gallery-item {
        height: 250px;
        background: #eee;
    }
    .img-zoom {
        transition: transform 0.5s ease;
        height: 100%;
        object-fit: cover;
    }
    .gallery-item:hover .img-zoom {
        transform: scale(1.1);
    }

    @media (max-width: 768px) {
        .box-92819 {
            left: 5%;
            right: 5%;
            padding: 25px;
            text-align: center;
            top: 50%;
            max-width: 90%;
            border-left: none;
            border-bottom: 5px solid #ffc107;
            border-radius: 15px;
        }
        .ftco-cover-1 { height: 70vh; }
    }
</style>

<div class="owl-carousel-wrapper" id="home">
    <div class="box-92819">
        <h1 class="text-white mb-3 fw-bold">Join The Movement To End Rural Digital Poverty</h1>
        <p class="text-white-50 mb-4">Your contribution helps us bring education and digital services to the furthest corners of Assam.</p>
        <p><a href="{% url 'login_donor' %}" class="btn btn-warning py-3 px-5 rounded-pill fw-bold shadow">Donate Now</a></p>
    </div>

    <div class="owl-carousel owl-1">
        {% for carousel in carousels %}
            <div class="ftco-cover-1 overlay" style="background-image: url('{{ carousel.image.url }}');">
                <div class="container h-100">
                    <div class="row align-items-center justify-content-center text-center h-100">
                        <div class="col-md-8" style="position: relative; z-index: 2;">
                            <h2 class="text-cursive display-4 text-white text-shadow-custom">{{ carousel.title|default:"Empowering Rural Assam" }}</h2>
                            <p class="lead text-white text-shadow-custom">{{ carousel.description|default:"Digital Service for the Community" }}</p>
                        </div>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="ftco-cover-1 overlay" style="background-image: url('https://images.pexels.com/photos/6646917/pexels-photo-6646917.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1');">
                <div class="container h-100">
                    <div class="row align-items-center justify-content-center text-center h-100">
                        <div class="col-md-8" style="position: relative; z-index: 2;">
                            <h2 class="text-cursive display-4 text-white text-shadow-custom">Digital Society Assam</h2>
                            <p class="lead text-white text-shadow-custom">Building a connected future for every village.</p>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

<div class="container" id="mission">
    <div class="row g-0 feature-29192-wrap" style="margin-top: -60px; position: relative; z-index: 10;">
        <div class="col-md-4">
            <div class="feature-29192" style="background-image: linear-gradient(rgba(220, 53, 69, 0.8), rgba(220, 53, 69, 0.8)), url('{% static 'images/img_3_gray.jpg' %}');">
                <div class="text">
                    <span class="badge bg-light text-danger mb-2">Livelihood</span>
                    <h3 class="text-cursive h2 text-white">Our Mission</h3>
                    <p>Bridging the digital divide in rural Assam by providing accessible technology and literacy.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4" id="vision">
            <div class="feature-29192" style="background-image: linear-gradient(rgba(40, 167, 69, 0.8), rgba(40, 167, 69, 0.8)), url('{% static 'images/img_2_gray.jpg' %}');">
                <div class="text">
                    <span class="badge bg-light text-success mb-2">Vision</span>
                    <h3 class="text-cursive h2 text-white">Our Vision</h3>
                    <p>Creating a self-reliant digital society where every citizen in Assam is connected and empowered.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-29192" style="background-image: linear-gradient(rgba(255, 193, 7, 0.8), rgba(255, 193, 7, 0.8)), url('{% static 'images/img_1_gray.jpg' %}');">
                <div class="text text-dark">
                    <span class="badge bg-dark text-white mb-2">Action</span>
                    <h3 class="text-cursive h2">Get Involved</h3>
                    <p>Become the change. Join our network of passionate volunteers and donors across the state.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="site-section py-5" id="dovo">
    <div class="container py-5">
        <div class="row mb-5 align-items-center">
            <div class="col-md-5">
                <div class="heading-20219">
                    <h2 class="title text-cursive display-4">Take Action</h2>
                </div>
            </div>
            <div class="col-md-7 border-start border-warning border-3 ps-4">
                <p class="lead text-muted">One of the greatest gifts you can give is your time or resources. Help us facilitate digital infrastructure and education in underserved areas.</p>
            </div>
        </div>

        <div class="row g-4">
            <div class="col-md-6">
                <div class="cause shadow bg-white hover-lift h-100">
                    <img src="https://images.pexels.com/photos/6646918/pexels-photo-6646918.jpeg?auto=compress&cs=tinysrgb&w=800" alt="Donate" class="img-fluid w-100" style="height: 350px; object-fit: cover;">
                    <div class="p-4 text-center">
                        <span class="badge bg-primary px-3 py-2 mb-3">FINANCIAL SUPPORT</span>
                        <h3 class="mb-3">Support Our Projects</h3>
                        <p class="text-muted">Facilitate the donation of equipment, digital infrastructure, and essential funds to keep our centers running.</p>
                        <hr class="my-4">
                        <a href="{% url 'login_donor' %}" class="btn btn-primary px-5 py-2 fw-bold rounded-pill">Donate Now</a>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="cause shadow bg-white hover-lift h-100">
                    <img src="https://images.pexels.com/photos/6646917/pexels-photo-6646917.jpeg?auto=compress&cs=tinysrgb&w=800" alt="Volunteer" class="img-fluid w-100" style="height: 350px; object-fit: cover;">
                    <div class="p-4 text-center">
                        <span class="badge bg-success px-3 py-2 mb-3">COMMUNITY SERVICE</span>
                        <h3 class="mb-3">Become a Volunteer</h3>
                        <p class="text-muted">Use your marketing, computer skills, or expertise to mentor the rural community and students.</p>
                        <hr class="my-4">
                        <a href="{% url 'login_volunteer' %}" class="btn btn-success px-5 py-2 fw-bold rounded-pill">Join Us</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<section class="site-section py-5" id="gallery">
    <div class="container">
        <div class="row mb-5 align-items-center">
            <div class="col-md-6">
                <h2 class="text-cursive display-4">Event Gallery</h2>
            </div>
            <div class="col-md-6 text-md-end">
                <a href="{% url 'gallery' %}" class="btn btn-outline-warning rounded-pill px-4">View All Photos</a>
            </div>
        </div>

        <div class="row g-3">
            <div class="col-md-4 col-sm-6">
                <div class="gallery-item overflow-hidden rounded shadow-sm">
                    <img src="{% static 'images/img_1.jpg' %}" alt="Gallery 1" class="img-fluid w-100 img-zoom">
                </div>
            </div>
            <div class="col-md-4 col-sm-6">
                <div class="gallery-item overflow-hidden rounded shadow-sm">
                    <img src="{% static 'images/img_2.jpg' %}" alt="Gallery 2" class="img-fluid w-100 img-zoom">
                </div>
            </div>
            <div class="col-md-4 col-sm-6">
                <div class="gallery-item overflow-hidden rounded shadow-sm">
                    <img src="{% static 'images/img_3.jpg' %}" alt="Gallery 3" class="img-fluid w-100 img-zoom">
                </div>
            </div>
        </div>
    </div>
</section>

<div class="site-section bg-dark text-white py-5" id="activity">
    <div class="container">
        <div class="row g-4 text-center text-md-start">
            <div class="col-md-3 col-sm-6">
                <div class="p-3 border-start border-warning border-3">
                    <h3 class="h5 text-warning mb-2"><i class="fas fa-map-marker-alt me-2"></i>Address</h3>
                    <p class="small mb-0">Gossaigaon, Kokrajhar, Assam, PIN-783360</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="p-3 border-start border-warning border-3">
                    <h3 class="h5 text-warning mb-2"><i class="fas fa-phone-alt me-2"></i>Phone</h3>
                    <p class="small mb-0">+91 7086487028<br>+91 9101003705</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="p-3 border-start border-warning border-3">
                    <h3 class="h5 text-warning mb-2"><i class="fas fa-envelope me-2"></i>Email</h3>
                    <p class="small mb-0">info@cscsocietyassam.com</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="p-3 border-start border-warning border-3">
                    <h3 class="h5 text-warning mb-2"><i class="fas fa-clock me-2"></i>Hours</h3>
                    <p class="small mb-0">Monday - Saturday<br>9:00 AM to 7:00 PM</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock main %}